# Toolkit for micro-geographic property price and rent indices 

**Â© Gabriel M. Ahlfeldt, Tobias Seidel**

Version 0.91, 2024

## General remarks

This toolkit covers the algorithm by Ahlfeldt, Heblich, Seidel (2023) to generate micro-geographic property price and rent indices for arbitrary spatial units based on transaction data. It includes a replicable analysis based on **artificial data** for illustration. 

This toolkit also includes the indices created by Ahlfeldt, Heblich, Seidel (2023) for Germany. We keep updating these indices as time goes by. These micro-geographic property price indices are based on **real micro-data** from Scout24. They can be found in the following sub-folder: [APPLICATIONS/DATA/OUTPUT](https://github.com/Ahlfeldt/AHS2023-toolkit/tree/main/APPLICATIONS/DATA/OUTPUT)
. For replication, the underlying microdata must be accessed from the Forschungsdatenzentrum at RWI-Essen. 

When using the toolkit in your work, please cite Ahlfeldt, Heblich, Seidel (2023): Micro-geographic property price and rent indices. Regional Science and Urban Economics, 98.

## How to Use the Toolkit

You can download the toolkit and use it as a starting point for your own analysis. The algorithm requires two input files containing your observed market transactions and the centroids of the spatial units for which you wish to generate the index. These are stored in the folder `DATA/INPUT`. You can replace these with your transaction data sets and your coordinates. Please ensure that the files you replace them with are in exactly the same format; i.e. you should use exactly the same variable names. All coordinates need to be in projected units of the same dimension. You may use a different ID variable name in the `centroids.dta` file as long as you update that variable name in the `DO/MASTER.do` do file.  

Please consider the `README` files in the respective folders for further detail.

## Folders

| Directory | Sub-folder | Description  | Additional Information |
| ------------- | ------ | --- | --- |
| `ADOS` | | Folder containing ado files called by the algorithm | -|
| `APPLICATIONS` | `DATA/OUTPUT` | Folder containing indices generated by Ahlfeldt, Heblich, Seidel (2023) and shapefiles for illustration | This folder contains indices computed based on **real** data |
| `APPLICATIONS` |  `DATA/OUTPUT/AHS-Index-PLZ-2024` | 2024 edition of the postcode indices including years 2007-2023 | This folder contains indices computed based on **real** data |
| `DATA` |  | Folder containing input data and output data for the replicable analysis to trial the algorithm | This folder contains **artificial** data  |
| `DO` |  | Folder containing do files for the replicable analysis based on artificial data |- |
| `MAPS` |  | Folder containing maps generated by the replicable analysis based on artificial data |  |
| `MAPS` | `PURCH-PLZ-2024` | Mapped 2024 edition of postcode purchase price index |  |
| `MAPS` | `RENT-PLZ-2024` | Mapped 2024 edition of postcode rent price index |  |
| `SHAPES` |  | Folder containing the shapefile of hexagons used in the replicable analysis based on artificial data |- |

## Further resources:

Ahlfeldt, G. M., Heblich, S., Seidel, T. (2023): Micro-geographic property price and rent indices. Regional Science and Urban Economics, 98. https://doi.org/10.1016/j.regsciurbeco.2022.103836

Alexander Hansen has created an `R` version of the toolkit which is available here: https://github.com/hvervetid/housepriceindex

## Updates to the algorithm

0.91: Added an additional check for sufficient variation in covariates in locally weighted regressions 

## Updates to the data
13/11/2024: Added German postcode rent and price indices from 2007-2023

**Acknowledgement**: 

I thank Alexander Hansen for spotting a bug in an earlier version of the code.
